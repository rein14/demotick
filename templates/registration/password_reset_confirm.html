{% extends 'registration/password_reset_form.html' %}
{% load widget_tweaks %}
{% block navbar %}{% endblock navbar %}

{% block content %}
  {% if validlink %}
  
  <form class="form-signin" method="post"   >
    {% csrf_token %}
    <input type="hidden" name="next" value="{{ next }}" />
    
     <h1 class="h3 mb-3 font-weight-normal">Reset Your Password</h1>
      
     {% if messages or form.non_field_errors %}
    <div class="alert {% if messages %}{{ message.tags }}{% else %}alert-danger{% endif %} alert-dismissible fade show small"
        role="alert" style="padding: 0.75rem 2.25rem;">
        {% for message in messages %}<div class="fieldWrapper">{{ message }}</div>{% endfor %}
        {% for error in form.non_field_errors %}<div class="fieldWrapper">{{ error }}</div>{% endfor %}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    {% endif %}

    {% for field in form.visible_fields %}
  <div class="form-group">
 
    {% if form.is_bound %}
    <label for="{{ field.id_for_label }}" class="sr-only">{{ field.label }}</label>

      {% if field.errors %}
        {% render_field field class="form-control is-invalid"  placeholder=field.label%}
        {% for error in field.errors %}
          <div class="invalid-feedback">
            {{ error }}
          </div>
        {% endfor %}
      {% else %}
        {% render_field field class="form-control is-valid" placeholder=field.label%}
      {% endif %}
    {% else %}
      {% render_field field class="form-control" placeholder=field.label %}
    {% endif %}

    {% if field.help_text %}
    <p class="text-muted small" >Your Password can’t be too similar to your other personal information.</p>
    <p class="text-muted small">Your Password must contain at least 8 characters.</p>
    <p class="text-muted small">Your Password can’t be a commonly used password.</p>
   <p class="text-muted small">Your Password can’t be entirely numeric.</p>
   <p class="text-muted small">The two password fields didn’t match.</p>
   {% endif %}
  </div>
{% endfor %}
    <button class="btn btn-lg btn-primary btn-block" type="submit">Reset</button>
 </form>
  {% else %}
  <span class="text-center">
    The password reset link was invalid, possibly because it has already been used.
      Please request a new password reset.
  </span>
  {% endif %}


{% endblock %}
