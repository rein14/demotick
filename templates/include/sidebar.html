{% load cache %}
{% cache 500 nav%}
<nav id="sidebar" class="navbar navbar-dark navbar-theme-primary px-4 col-12 d-lg-none">
  <a class="navbar-brand me-lg-5" href="/">
      <img class="navbar-brand-dark" src="/static/assets/img/brand/light.svg" alt="Volt logo" /> <img class="navbar-brand-light" src="/static/assets/img/brand/dark.svg" alt="Volt logo" />
  </a>
  <div class="d-flex align-items-center">
      <button class="navbar-toggler d-lg-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
  </div>
</nav>

<nav id="sidebarMenu" class="sidebar d-lg-block bg-gray-800 text-white collapse" data-simplebar>
<div class="sidebar-inner px-4 pt-3" >
  <div class="user-card d-flex d-md-none align-items-center justify-content-between justify-content-md-center pb-4">
    <div class="d-flex align-items-center">
      
    </div>
    <div class="collapse-close d-md-none">
      <a href="#sidebarMenu" data-bs-toggle="collapse"
          data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="true"
          aria-label="Toggle navigation">
          <svg class="icon icon-xs" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
        </a>
    </div>
  </div>

  <ul class="nav flex-column pt-3 pt-md-0" style='height: 95vh; justify-content: space-between;'>
  <div>
    <li class="nav-item">
      <a href="/" class="nav-link d-flex align-items-center">
      
        <span class="mt-1 ms-1 sidebar-text">Document Memo</span>

      </a>
    </li>
{% endcache %}
    
    {% if not request.user.is_cleared %}
     <li role="separator" class="dropdown-divider mt-4 mb-3 border-gray-700"></li>

    <li class="nav-item {% if request.path == '/inbox/' %} active {% endif %}">
      <a href="{% url 'app:inbox' %}" class="nav-link">
        <span class="sidebar-icon">
          <i class="fa fa-inbox me-2"></i>
        </span>
        <span class="sidebar-text">Inbox</span>
      </a>
    </li>
    <li class="nav-item {% if request.path == '/user-list/' %} active {% endif %}">
      <a href="{% url 'app:user-ticket-list' %}" class="nav-link">
        <span class="sidebar-icon">
          <i class="fa fa-box-open me-2"></i>
        </span>
        <span class="sidebar-text">Pending Memos</span>
      </a>
    </li>
    <li class="nav-item {% if request.path == '/completed/' %} active {% endif %}">
      <a href="{% url 'app:completed-tickets' %}" class="nav-link">
        <span class="sidebar-icon">
          <i class="fa fa-archive me-2"></i>
        </span>
        <span class="sidebar-text">Completed Memos</span>
      </a>
    </li>
 {% endif %}

    {% if request.user.is_cleared %}

    <li role="separator" class="dropdown-divider mt-4 mb-3 border-gray-700"></li>
   
    <li class="nav-item {% if request.path == '/tickets/' %} active {% endif %} ">
      <a href="{% url 'app:home' %}" class="nav-link">
        <span class="sidebar-icon">
          <i class="fa fa-mail-bulk me-2"></i>
        </span> 
        <span class="sidebar-text">All Memos</span>
      </a>
    </li>
    <li class="nav-item {% if request.path == '/opentickets/' %} active {% endif %}">
      <a href="{% url 'app:open-tickets' %}" class="nav-link">
        <span class="sidebar-icon">
          <i class="far fa-envelope-open me-2"></i>
        </span>
        <span class="sidebar-text">Open Memos</span>
      </a>
    </li>
    <li class="nav-item {% if request.path == '/archive/' %} active {% endif %}">
      <a href="{% url 'app:ticket-archive' %}" class="nav-link">
        <span class="sidebar-icon">
          <i class="fa fa-archive me-2"></i>
        </span>
        <span class="sidebar-text">Archives</span>
      </a>
    </li>
    {% comment %} <li class="nav-item {% if 'settings' in segment %} active {% endif %}">
      <a href="/settings.html" class="nav-link">
        <span class="sidebar-icon">
          <svg class="icon icon-xs me-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"></path></svg>
        </span>
        <span class="sidebar-text">Settings</span>
      </a>
    </li> {% endcomment %}
 
    <li role="separator" class="dropdown-divider mt-4 mb-3 border-gray-700"></li>
   
    <li class="nav-item {% if 'category' in request.path %} active {% endif %}">
      <span
        class="nav-link  collapsed  d-flex justify-content-between align-items-center"
        data-bs-toggle="collapse" data-bs-target="#submenu-components">
        <span>
          <span class="sidebar-icon">
            <i class="far fa-folder me-2"></i>
          </span>
          <span class="sidebar-text">Folders</span>
        </span>
        <span class="link-arrow">
          <svg class="icon icon-sm" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
        </span>
      </span>
      <div class="multi-level collapse {% if 'components-' in segment %} show {% endif %}" role="list"
        id="submenu-components" aria-expanded="false">
        <ul class="flex-column nav">
         
             {% for folder in nav_folder%}
              <li class="nav-item">
                <a class="nav-link" href="{{ folder.get_absolute_url }}">
                  <span class="sidebar-text">{{folder|lower|capfirst}} Folder</span>
                </a>
              </li>

          {% endfor %}
        <li class="">
          <a class="nav-link" href="">
            <span class="sidebar-icon">
              <i class="fa fa-plus"></i>
            </span>
            <span class="sidebar-text">Add Folder</span>
          </a>    
            </li>
        </ul>

      </div>
    </li>
    

    {% endif %}
    {% cache 500 logout%}
    <li role="separator" class="dropdown-divider mt-4 mb-3 border-gray-700"></li>
  </div>
  
  <div>
    
    <li role="separator" class="dropdown-divider mt-4 mb-3 border-gray-700"></li>
    <li class="nav-item">
      <a href="{% url 'account:logout' %}" class="nav-link">
          <span class="sidebar-icon"><span class="fas fa-sign-out-alt text-danger me-2"></span></span>
          <span>Logout</span>
      </a>
  </li>
  {% endcache %}
</div>
  </ul>

 
</div>
</nav>